<% if (user_name = searls_auth_helper.attr_for(@user, @config.user_name_method)).present? %>
Hi, <%= user_name %>!
<% else %>
Hello!
<% end %>

<% if Searls::Auth.config.auth_methods.include?(:email_link) %>
You can log in by visiting this URL for your <%= searls_auth_helper.rpad(@config.app_name) %>account:

<%= searls_auth.verify_token_url({
  token: @token,
  redirect_path: @redirect_path,
  redirect_subdomain: @redirect_subdomain
}.compact_blank) %>
<% end %>

<% if Searls::Auth.config.auth_methods.include?(:email_otp) && @short_code.present? %>

You can log in by entering this code:

<%= @short_code %>
<% end %>

Didn't try to log in? You can safely ignore this email.<%= " If this keeps
happening, please let us know at #{@config.support_email_address}" if @config.support_email_address.present? %>
